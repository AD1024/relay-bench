{
  "data": {
    "url": "graph-data.csv",
    "format": { "type": "csv" }
  },
  "transform": [
    {
    "window": [{
      "op": "max",
      "field": "NNVM",
      "as": "NNVMTime"
    }],
    "groupby": [
      "Model",
      "Target"
    ],
    "frame": [null, null]
  },
  {
    "calculate": "datum.Time/datum.NNVMTime",
    "as": "SlowdownRatio"
  }],
  "mark": {
    "type": "point"
  },
  "encoding": {
    "row":    { "field": "Target",  "type": "nominal" },
    "column": { "field": "Model",   "type": "nominal" },
    "x":      { "field": "IR",      "type": "nominal" },
    "y":      { "field": "SlowdownRatio",    "type": "quantitative",
                "axis": {"title": "(Inference Time) / NNVM"}, "scale": {"type": "log"} },
    "color": { "field": "IR", "type": "nominal" }
  }
}
